<header ng-include="'views/include/header.html'"></header>
<div class="container-fluid">
  <div class="row">
    <div class="col-md-2 col-sm-3 sidebar" ng-include="'views/include/sidebar.html'"></div>
    <!--<div class="col-md-10 col-md-offset-2 col-sm-9 col-sm-offset-3 hidden-xs">-->
    <!--<div class="col-sm-12">-->
    <!--<div class="panel panel-default">-->
    <!--<div class="panel-heading">-->
    <!--<ol class="breadcrumb panel-title">-->
    <!--<li><a href="#/">Home</a></li>-->
    <!--<li>提现申请</li>-->
    <!--</ol>-->
    <!--</div>-->
    <!--</div>-->
    <!--</div>-->
    <!--</div>-->
    <div class="col-md-10 col-md-offset-2 col-sm-9 col-sm-offset-3 main">
      <div class="page-header">
        <h3>提现申请</h3>
      </div>
      <div class="row">
        <div class="col-sm-6">
          <div class="panel panel-primary">
            <div class="panel-heading">
              <h4 class="panel-title">提现申请</h4>
            </div>
            <div class="table-responsive">
              <table class="table table-bordered table-striped table-hover table-condensed">
                <thead>
                <tr>
                  <th class="text-center">创建时间</th>
                  <th class="text-center">场馆信息</th>
                  <th class="text-center">管理员信息</th>
                  <th class="text-center">订单状态</th>
                  <th class="text-center">金额</th>
                  <th class="text-center">操作</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="data in processingList.data">
                  <td class="text-center">{{data.createTime}}</td>
                  <td>{{data.gymInfo.name}}</td>
                  <td class="text-right">{{data.userInfo.phone}}</td>
                  <td class="text-right">{{data.status}}</td>
                  <td class="text-right">{{data.total_fee | currency}}</td>
                  <td class="text-center"><a href="" data-toggle="modal" data-target=".handle-withdraw-modal" ng-click="setCurrentWidthdraw(data)">详情</a></td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                  <td colspan="7">
                    <div class="col-sm-12">
                      <ul class="pagination"
                          ng-show="!!processingList.totalPage">
                        <li ng-class="{'active': isPage(processingList.currentPage, 1)}">
                          <a ng-href=""
                             ng-if="!isPage(processingList.currentPage, 1)"
                             ng-click="loadProcessingList(1)">首页</a>
                          <span ng-if="isPage(processingList.currentPage, 1)">首页</span>
                        </li>
                        <li>
                          <a ng-href=""
                             ng-if="!isPage(processingList.currentPage, 1)"
                             ng-click="loadProcessingList(processingList.currentPage - 1)">
                            <span>&laquo;</span>
                          </a>
                          <span ng-if="isPage(processingList.currentPage, 1)">&laquo;</span>
                        </li>
                        <li ng-repeat="page in processingList.pages"
                            ng-class="{'active': isPage(processingList.currentPage, page)}">
                          <a ng-href=""
                             ng-click="loadProcessingList(page)"
                             ng-if="!isPage(processingList.currentPage, page)">{{page}}</a>
                          <span ng-if="isPage(processingList.currentPage, page)">{{page}}</span>
                        </li>
                        <li>
                          <a ng-href=""
                             ng-if="!isPage(processingList.currentPage, processingList.totalPage)"
                             ng-click="loadProcessingList(processingList.currentPage + 1)">
                            <span>&raquo;</span>
                          </a>
                          <span ng-if="isPage(processingList.currentPage, processingList.totalPage)">&raquo;</span>
                        </li>
                        <li ng-class="{'active': isPage(processingList.currentPage, processingList.totalPage)}">
                          <a ng-href=""
                             ng-if="!isPage(processingList.currentPage, processingList.totalPage)"
                             ng-click="loadProcessingList(processingList.totalPage)">末页</a>
                          <span ng-if="isPage(processingList.currentPage, processingList.totalPage)">末页</span>
                        </li>
                        <li>
                          <span>{{processingList.currentPage + "/" + processingList.totalPage}}</span>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <div class="panel panel-primary">
            <div class="panel-heading">
              <h4 class="panel-title">完成提现</h4>
            </div>
            <div class="table-responsive">
              <table class="table table-bordered table-striped table-hover table-condensed">
                <thead>
                <tr>
                  <th class="text-center">审核时间</th>
                  <th class="text-center">场馆信息</th>
                  <th class="text-center">管理员信息</th>
                  <th class="text-center">订单状态</th>
                  <th class="text-center">金额</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="data in verifiedList.data">
                  <td class="text-center">{{data.paymentTime}}</td>
                  <td class="text-right">{{data.gymInfo.name}}</td>
                  <td class="text-right">{{data.userInfo.phone}}</td>
                  <td class="text-right">{{data.status}}</td>
                  <td class="text-right">{{data.total_fee | currency}}</td>
                </tr>
                </tbody>
                <tfoot>
                <tr>
                  <td colspan="7">
                    <div class="col-sm-12">
                      <ul class="pagination"
                          ng-show="!!verifiedList.totalPage">
                        <li ng-class="{'active': isPage(verifiedList.currentPage, 1)}">
                          <a ng-href=""
                             ng-if="!isPage(verifiedList.currentPage, 1)"
                             ng-click="loadVerifiedList(1)">首页</a>
                          <span ng-if="isPage(verifiedList.currentPage, 1)">首页</span>
                        </li>
                        <li>
                          <a ng-href=""
                             ng-if="!isPage(verifiedList.currentPage, 1)"
                             ng-click="loadVerifiedList(verifiedList.currentPage - 1)">
                            <span>&laquo;</span>
                          </a>
                          <span ng-if="isPage(verifiedList.currentPage, 1)">&laquo;</span>
                        </li>
                        <li ng-repeat="page in verifiedList.pages"
                            ng-class="{'active': isPage(verifiedList.currentPage, page)}">
                          <a ng-href=""
                             ng-click="loadVerifiedList(page)"
                             ng-if="!isPage(verifiedList.currentPage, page)">{{page}}</a>
                          <span ng-if="isPage(verifiedList.currentPage, page)">{{page}}</span>
                        </li>
                        <li>
                          <a ng-href=""
                             ng-if="!isPage(verifiedList.currentPage, verifiedList.totalPage)"
                             ng-click="loadVerifiedList(verifiedList.currentPage + 1)">
                            <span>&raquo;</span>
                          </a>
                          <span ng-if="isPage(verifiedList.currentPage, verifiedList.totalPage)">&raquo;</span>
                        </li>
                        <li ng-class="{'active': isPage(verifiedList.currentPage, verifiedList.totalPage)}">
                          <a ng-href=""
                             ng-if="!isPage(verifiedList.currentPage, verifiedList.totalPage)"
                             ng-click="loadVerifiedList(verifiedList.totalPage)">末页</a>
                          <span ng-if="isPage(verifiedList.currentPage, verifiedList.totalPage)">末页</span>
                        </li>
                        <li>
                          <span>{{verifiedList.currentPage + "/" + verifiedList.totalPage}}</span>
                        </li>
                      </ul>
                    </div>
                  </td>
                </tr>
                </tfoot>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal handle-withdraw-modal" tabindex="-1" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">审核申请提现</h4>
      </div>
      <div class="modal-body">
        <form class="form-horizontal">
          <div class="form-group">
            <label class="control-label col-xs-6">账户姓名:</label>
            <p class="form-control-static col-xs-6">{{currentAccountInfo.accountName}}</p>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-6">开户行:</label>
            <p class="form-control-static col-xs-6">{{currentAccountInfo.accountBank}}</p>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-6">银行卡号:</label>
            <p class="form-control-static col-xs-6">{{currentAccountInfo.accountNumber}}</p>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-6">银行Code:</label>
            <p class="form-control-static col-xs-6">{{currentAccountInfo.bankCode}}</p>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-6">开户手机号:</label>
            <p class="form-control-static col-xs-6">{{currentAccountInfo.contactPhone}}</p>
          </div>
          <div class="form-group">
            <label class="control-label col-xs-6">账户类型:</label>
            <p class="form-control-static col-xs-6">{{currentAccountInfo.type}}</p>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target=".handle-withdraw-modal-confirm">审核</button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div><!-- /.modal -->
<div class="modal handle-withdraw-modal-confirm" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
        <h4 class="modal-title">确认审核</h4>
      </div>
      <div class="modal-body">
        <p>是否确认审核该提现操作？</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="handleWithdraw(currentWithdrawId)">确认</button>
      </div>
    </div>
    <!-- /.modal-content -->
  </div>
  <!-- /.modal-dialog -->
</div><!-- /.modal -->
